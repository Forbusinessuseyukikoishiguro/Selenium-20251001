import React, { useState } from 'react';
import { Code, Map, MousePointer, Layout, Lightbulb } from 'lucide-react';

const SeleniumPatternComparison = () => {
  const [activePattern, setActivePattern] = useState(0);

  const patterns = [
    {
      title: 'ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼æ§‹é€ ',
      html: `<nav id="main-menu">
  <ul class="menu-list">
    <li class="menu-item">
      <a href="/home">ãƒ›ãƒ¼ãƒ </a>
    </li>
    <li class="menu-item dropdown">
      <a href="/products">è£½å“</a>
      <ul class="submenu">
        <li><a href="/electronics">é›»å­æ©Ÿå™¨</a></li>
        <li><a href="/furniture">å®¶å…·</a></li>
      </ul>
    </li>
  </ul>
</nav>`,
      target: 'ã€Œé›»å­æ©Ÿå™¨ã€ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯',
      xpath: '//nav[@id="main-menu"]//ul[@class="submenu"]/li[1]/a',
      css: '#main-menu .submenu li:first-child a',
      coordinates: `menu = driver.find_element(By.ID, "main-menu")
submenu = menu.find_element(By.CLASS_NAME, "submenu")
location = submenu.location
size = submenu.size

# ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…ã®æœ€åˆã®ãƒªãƒ³ã‚¯ã®ä½ç½®ã‚’è¨ˆç®—
target_x = location['x'] + 20
target_y = location['y'] + 15

actions = ActionChains(driver)
actions.move_by_offset(target_x, target_y).click().perform()`,
      coordMethod: 'relative',
      visual: {
        type: 'nested-menu',
        highlight: 'submenu-first'
      }
    },
    {
      title: 'ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç‰¹å®šã‚»ãƒ«',
      html: `<table id="data-table" class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>åå‰</th>
      <th>ä¾¡æ ¼</th>
      <th>åœ¨åº«</th>
    </tr>
  </thead>
  <tbody>
    <tr class="row" data-id="101">
      <td>101</td>
      <td>ãƒãƒ¼ãƒˆPC</td>
      <td class="price">98,000å††</td>
      <td class="stock">5</td>
    </tr>
    <tr class="row" data-id="102">
      <td>102</td>
      <td>ãƒã‚¦ã‚¹</td>
      <td class="price">2,500å††</td>
      <td class="stock">20</td>
    </tr>
  </tbody>
</table>`,
      target: 'ID:102 ã®ä¾¡æ ¼ã‚»ãƒ«ã‚’å–å¾—',
      xpath: '//table[@id="data-table"]//tr[@data-id="102"]/td[@class="price"]',
      css: '#data-table tr[data-id="102"] td.price',
      coordinates: `table = driver.find_element(By.ID, "data-table")
rows = table.find_elements(By.CSS_SELECTOR, "tbody tr")

# 2è¡Œç›®ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹1ï¼‰ã®3åˆ—ç›®ï¼ˆä¾¡æ ¼ï¼‰
target_row = rows[1]
cells = target_row.find_elements(By.TAG_NAME, "td")
price_cell = cells[2]

# ã‚»ãƒ«ã®åº§æ¨™ã‚’å–å¾—
location = price_cell.location
center_x = location['x'] + price_cell.size['width'] / 2
center_y = location['y'] + price_cell.size['height'] / 2`,
      coordMethod: 'cell-position',
      visual: {
        type: 'table',
        highlight: 'row2-col3'
      }
    },
    {
      title: 'ãƒ•ã‚©ãƒ¼ãƒ å†…ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰',
      html: `<div id="login-form" class="form-container">
  <div class="form-group">
    <label for="username">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
    <input type="text" 
           id="username" 
           name="user" 
           class="form-control"
           placeholder="åå‰ã‚’å…¥åŠ›"/>
  </div>
  <div class="form-group">
    <label for="password">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
    <input type="password" 
           id="password" 
           name="pass" 
           class="form-control"
           placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"/>
  </div>
  <button type="submit" class="btn-primary">
    ãƒ­ã‚°ã‚¤ãƒ³
  </button>
</div>`,
      target: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ã«å…¥åŠ›',
      xpath: '//div[@id="login-form"]//input[@type="password"]',
      css: '#login-form input[type="password"]',
      coordinates: `form = driver.find_element(By.ID, "login-form")
form_groups = form.find_elements(By.CLASS_NAME, "form-group")

# 2ç•ªç›®ã®form-groupï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰
password_group = form_groups[1]
input_field = password_group.find_element(By.TAG_NAME, "input")

# å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ä¸­å¤®ã‚’ã‚¯ãƒªãƒƒã‚¯
actions = ActionChains(driver)
actions.move_to_element(input_field).click().perform()
input_field.send_keys("password123")`,
      coordMethod: 'form-field',
      visual: {
        type: 'form',
        highlight: 'password-field'
      }
    },
    {
      title: 'ã‚«ãƒ¼ãƒ‰å‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ',
      html: `<div class="container">
  <div class="card" data-product-id="A001">
    <img src="product1.jpg" class="card-img"/>
    <div class="card-body">
      <h3 class="card-title">å•†å“A</h3>
      <p class="card-price">5,000å††</p>
      <button class="btn-cart">ã‚«ãƒ¼ãƒˆã«è¿½åŠ </button>
    </div>
  </div>
  <div class="card" data-product-id="A002">
    <img src="product2.jpg" class="card-img"/>
    <div class="card-body">
      <h3 class="card-title">å•†å“B</h3>
      <p class="card-price">8,000å††</p>
      <button class="btn-cart">ã‚«ãƒ¼ãƒˆã«è¿½åŠ </button>
    </div>
  </div>
</div>`,
      target: 'å•†å“Bã®ã‚«ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯',
      xpath: '//div[@class="card" and @data-product-id="A002"]//button[@class="btn-cart"]',
      css: '.card[data-product-id="A002"] .btn-cart',
      coordinates: `cards = driver.find_elements(By.CLASS_NAME, "card")

# 2ç•ªç›®ã®ã‚«ãƒ¼ãƒ‰ï¼ˆå•†å“Bï¼‰
card_b = cards[1]
button = card_b.find_element(By.CLASS_NAME, "btn-cart")

# ãƒœã‚¿ãƒ³ã®ä½ç½®ã‚’å–å¾—
btn_location = button.location
btn_size = button.size

# ãƒœã‚¿ãƒ³ä¸­å¤®ã®åº§æ¨™
click_x = btn_location['x'] + btn_size['width'] / 2
click_y = btn_location['y'] + btn_size['height'] / 2

actions = ActionChains(driver)
actions.move_by_offset(click_x, click_y).click().perform()`,
      coordMethod: 'card-layout',
      visual: {
        type: 'cards',
        highlight: 'card2-button'
      }
    },
    {
      title: 'ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°',
      html: `<div class="overlay" style="display:block">
  <div class="modal" id="confirm-modal">
    <div class="modal-header">
      <h2>ç¢ºèª</h2>
      <button class="close-btn">Ã—</button>
    </div>
    <div class="modal-body">
      <p>æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ</p>
    </div>
    <div class="modal-footer">
      <button class="btn btn-cancel">
        ã‚­ãƒ£ãƒ³ã‚»ãƒ«
      </button>
      <button class="btn btn-confirm">
        å‰Šé™¤ã™ã‚‹
      </button>
    </div>
  </div>
</div>`,
      target: 'å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯',
      xpath: '//div[@id="confirm-modal"]//div[@class="modal-footer"]/button[@class="btn btn-confirm"]',
      css: '#confirm-modal .modal-footer .btn-confirm',
      coordinates: `# ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…æ©Ÿ
modal = WebDriverWait(driver, 10).until(
    EC.visibility_of_element_located(
        (By.ID, "confirm-modal")
    )
)

# ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã®ãƒœã‚¿ãƒ³ã‚’ç›¸å¯¾ä½ç½®ã§å–å¾—
footer = modal.find_element(By.CLASS_NAME, "modal-footer")
buttons = footer.find_elements(By.CLASS_NAME, "btn")

# 2ç•ªç›®ã®ãƒœã‚¿ãƒ³ï¼ˆå‰Šé™¤ã™ã‚‹ï¼‰
confirm_btn = buttons[1]

# åº§æ¨™è¨ˆç®—
modal_loc = modal.location
btn_loc = confirm_btn.location

# ãƒ¢ãƒ¼ãƒ€ãƒ«åŸºæº–ã®ç›¸å¯¾åº§æ¨™
relative_x = btn_loc['x'] - modal_loc['x']
relative_y = btn_loc['y'] - modal_loc['y']`,
      coordMethod: 'modal-position',
      visual: {
        type: 'modal',
        highlight: 'confirm-button'
      }
    },
    {
      title: 'å‹•çš„ãƒªã‚¹ãƒˆï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰',
      html: `<div id="infinite-scroll" class="scroll-container">
  <div class="item" data-index="1">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  1</span>
    <button class="item-action">è©³ç´°</button>
  </div>
  <div class="item" data-index="2">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  2</span>
    <button class="item-action">è©³ç´°</button>
  </div>
  <!-- å‹•çš„ã«è¿½åŠ ã•ã‚Œã‚‹ã‚¢ã‚¤ãƒ†ãƒ  -->
  <div class="item" data-index="50">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  50</span>
    <button class="item-action">è©³ç´°</button>
  </div>
</div>`,
      target: '50ç•ªç›®ã®ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³',
      xpath: '//div[@id="infinite-scroll"]//div[@data-index="50"]/button[@class="item-action"]',
      css: '#infinite-scroll .item[data-index="50"] .item-action',
      coordinates: `container = driver.find_element(By.ID, "infinite-scroll")

# ç‰¹å®šã®ã‚¢ã‚¤ãƒ†ãƒ ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
target_item = driver.find_element(
    By.CSS_SELECTOR, 
    '.item[data-index="50"]'
)

# è¦ç´ ãŒè¦‹ãˆã‚‹ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
driver.execute_script(
    "arguments[0].scrollIntoView({block: 'center'});",
    target_item
)
time.sleep(0.5)

# ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³ã‚’å–å¾—
button = target_item.find_element(
    By.CLASS_NAME, 
    "item-action"
)

# ãƒœã‚¿ãƒ³ã®ç”»é¢ä¸Šã®åº§æ¨™
location = button.location
viewport_offset = driver.execute_script(
    "return arguments[0].getBoundingClientRect();",
    button
)

# å®Ÿéš›ã®è¡¨ç¤ºä½ç½®
visible_x = viewport_offset['x']
visible_y = viewport_offset['y']`,
      coordMethod: 'scroll-to-element',
      visual: {
        type: 'infinite-scroll',
        highlight: 'item-50'
      }
    }
  ];

  const VisualDemo = ({ visual }) => {
    const { type, highlight } = visual;

    if (type === 'nested-menu') {
      return (
        <div className="bg-gray-100 p-4 rounded-lg border-2 border-gray-300 min-h-64">
          <div className="bg-blue-600 text-white p-3 rounded-t-lg font-bold">
            ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
          </div>
          <div className="bg-white p-4 rounded-b-lg">
            <div className="space-y-2">
              <div className="p-2 hover:bg-gray-100 rounded">ğŸ  ãƒ›ãƒ¼ãƒ </div>
              <div className="p-2 bg-blue-50 rounded">
                <div className="font-bold">ğŸ“¦ è£½å“ â–¼</div>
                <div className="ml-6 mt-2 space-y-1">
                  <div className={`p-2 rounded ${highlight === 'submenu-first' ? 'bg-yellow-300 border-2 border-yellow-600' : 'bg-gray-50'}`}>
                    ğŸ’» é›»å­æ©Ÿå™¨ â† ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ
                  </div>
                  <div className="p-2 bg-gray-50 rounded">ğŸª‘ å®¶å…·</div>
                </div>
              </div>
            </div>
          </div>
          <div className="mt-4 text-sm text-gray-600 bg-yellow-50 p-2 rounded border-l-4 border-yellow-400">
            éšå±¤: nav â†’ ul.menu-list â†’ li.dropdown â†’ ul.submenu â†’ li[1] â†’ a
          </div>
        </div>
      );
    }

    if (type === 'table') {
      return (
        <div className="bg-white rounded-lg border-2 border-gray-300 overflow-hidden">
          <table className="w-full text-sm">
            <thead className="bg-blue-600 text-white">
              <tr>
                <th className="p-2 border">ID</th>
                <th className="p-2 border">åå‰</th>
                <th className="p-2 border">ä¾¡æ ¼</th>
                <th className="p-2 border">åœ¨åº«</th>
              </tr>
            </thead>
            <tbody>
              <tr className="bg-gray-50">
                <td className="p-2 border text-center">101</td>
                <td className="p-2 border">ãƒãƒ¼ãƒˆPC</td>
                <td className="p-2 border text-right">98,000å††</td>
                <td className="p-2 border text-center">5</td>
              </tr>
              <tr className="bg-white">
                <td className="p-2 border text-center">102</td>
                <td className="p-2 border">ãƒã‚¦ã‚¹</td>
                <td className={`p-2 border text-right ${highlight === 'row2-col3' ? 'bg-yellow-300 border-2 border-yellow-600 font-bold' : ''}`}>
                  2,500å†† {highlight === 'row2-col3' && 'â† ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ'}
                </td>
                <td className="p-2 border text-center">20</td>
              </tr>
            </tbody>
          </table>
          <div className="p-2 text-sm text-gray-600 bg-yellow-50 border-t-2 border-yellow-400">
            éšå±¤: table#data-table â†’ tbody â†’ tr[data-id="102"] â†’ td.price
          </div>
        </div>
      );
    }

    if (type === 'form') {
      return (
        <div className="bg-white p-6 rounded-lg border-2 border-gray-300 max-w-md mx-auto">
          <div className="space-y-4">
            <div>
              <label className="block text-sm font-bold mb-1">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
              <input 
                type="text" 
                className="w-full p-2 border-2 border-gray-300 rounded" 
                placeholder="åå‰ã‚’å…¥åŠ›"
                readOnly
              />
            </div>
            <div>
              <label className="block text-sm font-bold mb-1">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
              <input 
                type="password" 
                className={`w-full p-2 border-2 rounded ${highlight === 'password-field' ? 'border-yellow-600 bg-yellow-100' : 'border-gray-300'}`}
                placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"
                readOnly
              />
              {highlight === 'password-field' && (
                <div className="text-xs text-yellow-700 mt-1">â† ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ</div>
              )}
            </div>
            <button className="w-full bg-blue-600 text-white p-2 rounded font-bold">
              ãƒ­ã‚°ã‚¤ãƒ³
            </button>
          </div>
          <div className="mt-4 text-sm text-gray-600 bg-yellow-50 p-2 rounded border-l-4 border-yellow-400">
            éšå±¤: div#login-form â†’ div.form-group[2] â†’ input[type="password"]
          </div>
        </div>
      );
    }

    if (type === 'cards') {
      return (
        <div className="grid grid-cols-2 gap-4 p-4 bg-gray-100 rounded-lg border-2 border-gray-300">
          <div className="bg-white rounded-lg shadow p-3">
            <div className="bg-gray-200 h-24 rounded mb-2 flex items-center justify-center">
              ğŸ–¼ï¸ å•†å“A
            </div>
            <h3 className="font-bold">å•†å“A</h3>
            <p className="text-sm text-gray-600">5,000å††</p>
            <button className="w-full bg-blue-500 text-white p-2 rounded mt-2 text-sm">
              ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
            </button>
          </div>
          <div className="bg-white rounded-lg shadow p-3 border-2 border-yellow-600">
            <div className="bg-gray-200 h-24 rounded mb-2 flex items-center justify-center">
              ğŸ–¼ï¸ å•†å“B
            </div>
            <h3 className="font-bold">å•†å“B</h3>
            <p className="text-sm text-gray-600">8,000å††</p>
            <button className={`w-full p-2 rounded mt-2 text-sm ${highlight === 'card2-button' ? 'bg-yellow-300 text-gray-900 border-2 border-yellow-600 font-bold' : 'bg-blue-500 text-white'}`}>
              ã‚«ãƒ¼ãƒˆã«è¿½åŠ  {highlight === 'card2-button' && 'â†'}
            </button>
          </div>
          <div className="col-span-2 text-sm text-gray-600 bg-yellow-50 p-2 rounded border-l-4 border-yellow-400">
            éšå±¤: div.card[data-product-id="A002"] â†’ div.card-body â†’ button.btn-cart
          </div>
        </div>
      );
    }

    if (type === 'modal') {
      return (
        <div className="relative bg-gray-900 bg-opacity-50 p-8 rounded-lg min-h-64 flex items-center justify-center">
          <div className="bg-white rounded-lg shadow-2xl w-80 border-2 border-blue-600">
            <div className="bg-blue-600 text-white p-3 rounded-t-lg flex justify-between items-center">
              <h3 className="font-bold">ç¢ºèª</h3>
              <button className="text-2xl">Ã—</button>
            </div>
            <div className="p-4">
              <p>æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ</p>
            </div>
            <div className="p-3 bg-gray-50 rounded-b-lg flex gap-2 justify-end">
              <button className="px-4 py-2 bg-gray-300 rounded">
                ã‚­ãƒ£ãƒ³ã‚»ãƒ«
              </button>
              <button className={`px-4 py-2 rounded ${highlight === 'confirm-button' ? 'bg-yellow-300 text-gray-900 border-2 border-yellow-600 font-bold' : 'bg-red-600 text-white'}`}>
                å‰Šé™¤ã™ã‚‹ {highlight === 'confirm-button' && 'â†'}
              </button>
            </div>
          </div>
          <div className="absolute bottom-2 left-2 right-2 text-sm text-white bg-black bg-opacity-70 p-2 rounded">
            éšå±¤: div#confirm-modal â†’ div.modal-footer â†’ button.btn-confirm
          </div>
        </div>
      );
    }

    if (type === 'infinite-scroll') {
      return (
        <div className="bg-white rounded-lg border-2 border-gray-300 h-64 overflow-y-auto">
          <div className="p-2 space-y-1">
            <div className="flex justify-between items-center p-2 bg-gray-50 rounded">
              <span>ã‚¢ã‚¤ãƒ†ãƒ  1</span>
              <button className="px-3 py-1 bg-blue-500 text-white rounded text-sm">è©³ç´°</button>
            </div>
            <div className="flex justify-between items-center p-2 bg-gray-50 rounded">
              <span>ã‚¢ã‚¤ãƒ†ãƒ  2</span>
              <button className="px-3 py-1 bg-blue-500 text-white rounded text-sm">è©³ç´°</button>
            </div>
            <div className="text-center text-gray-400 py-2">...</div>
            <div className={`flex justify-between items-center p-2 rounded ${highlight === 'item-50' ? 'bg-yellow-300 border-2 border-yellow-600' : 'bg-gray-50'}`}>
              <span className="font-bold">ã‚¢ã‚¤ãƒ†ãƒ  50</span>
              <button className="px-3 py-1 bg-blue-500 text-white rounded text-sm font-bold">
                è©³ç´° {highlight === 'item-50' && 'â†'}
              </button>
            </div>
          </div>
          <div className="sticky bottom-0 text-sm text-gray-600 bg-yellow-50 p-2 border-t-2 border-yellow-400">
            éšå±¤: div#infinite-scroll â†’ div.item[data-index="50"] â†’ button.item-action
          </div>
        </div>
      );
    }

    return null;
  };

  const current = patterns[activePattern];

  return (
    <div className="w-full max-w-7xl mx-auto p-6 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 min-h-screen">
      <div className="mb-8">
        <h1 className="text-4xl font-bold text-gray-800 mb-2 flex items-center gap-3">
          <Layout className="text-indigo-600" size={40} />
          Selenium è¦ç´ æŒ‡å®šãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨æ¯”è¼ƒ
        </h1>
        <p className="text-gray-600 text-lg">
          HTMLéšå±¤ Ã— XPath Ã— CSSã‚»ãƒ¬ã‚¯ã‚¿ Ã— åº§æ¨™æŒ‡å®šã®4ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å›³è§£
        </p>
      </div>

      <div className="grid grid-cols-2 md:grid-cols-3 gap-3 mb-6">
        {patterns.map((pattern, index) => (
          <button
            key={index}
            onClick={() => setActivePattern(index)}
            className={`p-4 rounded-lg border-2 transition-all text-left ${
              activePattern === index
                ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-indigo-700 shadow-lg'
                : 'bg-white text-gray-700 border-gray-300 hover:border-indigo-400'
            }`}
          >
            <div className="font-bold text-sm">{pattern.title}</div>
            <div className={`text-xs mt-1 ${activePattern === index ? 'text-indigo-100' : 'text-gray-500'}`}>
              {pattern.target}
            </div>
          </button>
        ))}
      </div>

      <div className="space-y-6">
        <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-indigo-200">
          <div className="flex items-center gap-2 mb-4">
            <Map className="text-indigo-600" size={24} />
            <h2 className="text-2xl font-bold text-gray-800">ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«å›³è§£</h2>
          </div>
          <VisualDemo visual={current.visual} />
        </div>

        <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-purple-200">
          <div className="flex items-center gap-2 mb-4">
            <Code className="text-purple-600" size={24} />
            <h2 className="text-2xl font-bold text-gray-800">HTMLæ§‹é€ </h2>
          </div>
          <pre className="bg-gray-900 text-green-300 p-4 rounded-lg text-sm overflow-x-auto font-mono">
            <code>{current.html}</code>
          </pre>
          <div className="mt-3 p-3 bg-purple-50 rounded-lg border-l-4 border-purple-500">
            <strong className="text-purple-800">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ:</strong>
            <span className="text-gray-700 ml-2">{current.target}</span>
          </div>
        </div>

        <div className="grid md:grid-cols-2 gap-6">
          <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-orange-200">
            <div className="flex items-center gap-2 mb-4">
              <div className="bg-orange-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">
                1
              </div>
              <h3 className="text-xl font-bold text-gray-800">XPathæŒ‡å®š</h3>
            </div>
            <pre className="bg-orange-900 text-orange-100 p-4 rounded-lg text-sm overflow-x-auto font-mono">
              <code>{current.xpath}</code>
            </pre>
            <div className="mt-3 p-3 bg-orange-50 rounded text-sm">
              <strong className="text-orange-700">ç‰¹å¾´:</strong>
              <ul className="mt-1 space-y-1 text-gray-700">
                <li>â€¢ è¤‡é›‘ãªéšå±¤ã‚‚æŸ”è»Ÿã«æŒ‡å®šå¯èƒ½</li>
                <li>â€¢ ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ãŒå¯èƒ½</li>
                <li>â€¢ è¦ªè¦ç´ ã¸ã®å‚ç…§ãŒå¯èƒ½</li>
              </ul>
            </div>
          </div>

          <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-blue-200">
            <div className="flex items-center gap-2 mb-4">
              <div className="bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">
                2
           ãƒ¼ãƒ¼ãƒ¼ãƒ¼

Selenium è¦ç´ æŒ‡å®šãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨æ¯”è¼ƒ
HTMLéšå±¤ Ã— XPath Ã— CSSã‚»ãƒ¬ã‚¯ã‚¿ Ã— åº§æ¨™æŒ‡å®šã®4ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å›³è§£


ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼æ§‹é€ 
ã€Œé›»å­æ©Ÿå™¨ã€ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯

ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç‰¹å®šã‚»ãƒ«
ID:102 ã®ä¾¡æ ¼ã‚»ãƒ«ã‚’å–å¾—

ãƒ•ã‚©ãƒ¼ãƒ å†…ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ã«å…¥åŠ›

ã‚«ãƒ¼ãƒ‰å‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
å•†å“Bã®ã‚«ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

å‹•çš„ãƒªã‚¹ãƒˆï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰
50ç•ªç›®ã®ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³
ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«å›³è§£
ãƒ¦ãƒ¼ã‚¶ãƒ¼å
åå‰ã‚’å…¥åŠ›
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›
â† ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ
ãƒ­ã‚°ã‚¤ãƒ³
éšå±¤: div#login-form â†’ div.form-group[2] â†’ input[type="password"]
HTMLæ§‹é€ 
<div id="login-form" class="form-container">
  <div class="form-group">
    <label for="username">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
    <input type="text" 
           id="username" 
           name="user" 
           class="form-control"
           placeholder="åå‰ã‚’å…¥åŠ›"/>
  </div>
  <div class="form-group">
    <label for="password">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
    <input type="password" 
           id="password" 
           name="pass" 
           class="form-control"
           placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"/>
  </div>
  <button type="submit" class="btn-primary">
    ãƒ­ã‚°ã‚¤ãƒ³
  </button>
</div>
ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ:ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ã«å…¥åŠ›
1
XPathæŒ‡å®š
//div[@id="login-form"]//input[@type="password"]
ç‰¹å¾´:
â€¢ è¤‡é›‘ãªéšå±¤ã‚‚æŸ”è»Ÿã«æŒ‡å®šå¯èƒ½
â€¢ ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ãŒå¯èƒ½
â€¢ è¦ªè¦ç´ ã¸ã®å‚ç…§ãŒå¯èƒ½
2
CSSã‚»ãƒ¬ã‚¯ã‚¿æŒ‡å®š
#login-form input[type="password"]
ç‰¹å¾´:
â€¢ ã‚·ãƒ³ãƒ—ãƒ«ã§èª­ã¿ã‚„ã™ã„
â€¢ å®Ÿè¡Œé€Ÿåº¦ãŒé€Ÿã„
â€¢ Webãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã«é¦´æŸ“ã¿ã‚„ã™ã„
åº§æ¨™æŒ‡å®š
æ–¹æ³•:form-field
form = driver.find_element(By.ID, "login-form")
form_groups = form.find_elements(By.CLASS_NAME, "form-group")

# 2ç•ªç›®ã®form-groupï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰
password_group = form_groups[1]
input_field = password_group.find_element(By.TAG_NAME, "input")

# å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ä¸­å¤®ã‚’ã‚¯ãƒªãƒƒã‚¯
actions = ActionChains(driver)
actions.move_to_element(input_field).click().perform()
input_field.send_keys("password123")
ç‰¹å¾´:
â€¢ DOMæ§‹é€ ã«ä¾å­˜ã—ãªã„
â€¢ ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚„ç”»åƒã®æ“ä½œã«æœ‰åŠ¹
â€¢ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ã«æ³¨æ„ãŒå¿…è¦
ä½¿ã„åˆ†ã‘ã®ãƒã‚¤ãƒ³ãƒˆ
XPathã‚’ä½¿ã†å ´åˆ
ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ã€è¦ªè¦ç´ å‚ç…§ã€è¤‡é›‘ãªæ¡ä»¶ãŒå¿…è¦ãªæ™‚

CSSã‚»ãƒ¬ã‚¯ã‚¿ã‚’ä½¿ã†å ´åˆ
ã‚·ãƒ³ãƒ—ãƒ«ãªéšå±¤æ§‹é€ ã§é«˜é€Ÿã«è¦ç´ ã‚’å–å¾—ã—ãŸã„æ™‚

åº§æ¨™æŒ‡å®šã‚’ä½¿ã†å ´åˆ
ã‚­ãƒ£ãƒ³ãƒã‚¹æ“ä½œã€ç”»åƒã®ç‰¹å®šä½ç½®ã‚¯ãƒªãƒƒã‚¯ãªã©

æ¨å¥¨ã•ã‚Œã‚‹é †åº
CSS â†’ XPath â†’ åº§æ¨™ï¼ˆæœ€çµ‚æ‰‹æ®µï¼‰ã®é †ã§æ¤œè¨

ãƒ¼ãƒ¼ãƒ¼

Selenium è¦ç´ æŒ‡å®šãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨æ¯”è¼ƒ
HTMLéšå±¤ Ã— XPath Ã— CSSã‚»ãƒ¬ã‚¯ã‚¿ Ã— åº§æ¨™æŒ‡å®šã®4ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å›³è§£


ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼æ§‹é€ 
ã€Œé›»å­æ©Ÿå™¨ã€ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯

ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç‰¹å®šã‚»ãƒ«
ID:102 ã®ä¾¡æ ¼ã‚»ãƒ«ã‚’å–å¾—

ãƒ•ã‚©ãƒ¼ãƒ å†…ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ã«å…¥åŠ›

ã‚«ãƒ¼ãƒ‰å‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
å•†å“Bã®ã‚«ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

å‹•çš„ãƒªã‚¹ãƒˆï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰
50ç•ªç›®ã®ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³
ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«å›³è§£
ç¢ºèª
Ã—
æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ

ã‚­ãƒ£ãƒ³ã‚»ãƒ«
å‰Šé™¤ã™ã‚‹ â†
éšå±¤: div#confirm-modal â†’ div.modal-footer â†’ button.btn-confirm
HTMLæ§‹é€ 
<div class="overlay" style="display:block">
  <div class="modal" id="confirm-modal">
    <div class="modal-header">
      <h2>ç¢ºèª</h2>
      <button class="close-btn">Ã—</button>
    </div>
    <div class="modal-body">
      <p>æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ</p>
    </div>
    <div class="modal-footer">
      <button class="btn btn-cancel">
        ã‚­ãƒ£ãƒ³ã‚»ãƒ«
      </button>
      <button class="btn btn-confirm">
        å‰Šé™¤ã™ã‚‹
      </button>
    </div>
  </div>
</div>
ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ:å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
1
XPathæŒ‡å®š
//div[@id="confirm-modal"]//div[@class="modal-footer"]/button[@class="btn btn-confirm"]
ç‰¹å¾´:
â€¢ è¤‡é›‘ãªéšå±¤ã‚‚æŸ”è»Ÿã«æŒ‡å®šå¯èƒ½
â€¢ ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ãŒå¯èƒ½
â€¢ è¦ªè¦ç´ ã¸ã®å‚ç…§ãŒå¯èƒ½
2
CSSã‚»ãƒ¬ã‚¯ã‚¿æŒ‡å®š
#confirm-modal .modal-footer .btn-confirm
ç‰¹å¾´:
â€¢ ã‚·ãƒ³ãƒ—ãƒ«ã§èª­ã¿ã‚„ã™ã„
â€¢ å®Ÿè¡Œé€Ÿåº¦ãŒé€Ÿã„
â€¢ Webãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã«é¦´æŸ“ã¿ã‚„ã™ã„
åº§æ¨™æŒ‡å®š
æ–¹æ³•:modal-position
# ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…æ©Ÿ
modal = WebDriverWait(driver, 10).until(
    EC.visibility_of_element_located(
        (By.ID, "confirm-modal")
    )
)

# ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã®ãƒœã‚¿ãƒ³ã‚’ç›¸å¯¾ä½ç½®ã§å–å¾—
footer = modal.find_element(By.CLASS_NAME, "modal-footer")
buttons = footer.find_elements(By.CLASS_NAME, "btn")

# 2ç•ªç›®ã®ãƒœã‚¿ãƒ³ï¼ˆå‰Šé™¤ã™ã‚‹ï¼‰
confirm_btn = buttons[1]

# åº§æ¨™è¨ˆç®—
modal_loc = modal.location
btn_loc = confirm_btn.location

# ãƒ¢ãƒ¼ãƒ€ãƒ«åŸºæº–ã®ç›¸å¯¾åº§æ¨™
relative_x = btn_loc['x'] - modal_loc['x']
relative_y = btn_loc['y'] - modal_loc['y']
ç‰¹å¾´:
â€¢ DOMæ§‹é€ ã«ä¾å­˜ã—ãªã„
â€¢ ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚„ç”»åƒã®æ“ä½œã«æœ‰åŠ¹
â€¢ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ã«æ³¨æ„ãŒå¿…è¦
ä½¿ã„åˆ†ã‘ã®ãƒã‚¤ãƒ³ãƒˆ
XPathã‚’ä½¿ã†å ´åˆ
ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ã€è¦ªè¦ç´ å‚ç…§ã€è¤‡é›‘ãªæ¡ä»¶ãŒå¿…è¦ãªæ™‚

CSSã‚»ãƒ¬ã‚¯ã‚¿ã‚’ä½¿ã†å ´åˆ
ã‚·ãƒ³ãƒ—ãƒ«ãªéšå±¤æ§‹é€ ã§é«˜é€Ÿã«è¦ç´ ã‚’å–å¾—ã—ãŸã„æ™‚

åº§æ¨™æŒ‡å®šã‚’ä½¿ã†å ´åˆ
ã‚­ãƒ£ãƒ³ãƒã‚¹æ“ä½œã€ç”»åƒã®ç‰¹å®šä½ç½®ã‚¯ãƒªãƒƒã‚¯ãªã©

æ¨å¥¨ã•ã‚Œã‚‹é †åº
CSS â†’ XPath â†’ åº§æ¨™ï¼ˆæœ€çµ‚æ‰‹æ®µï¼‰ã®é †ã§æ¤œè¨

ãƒ¼ãƒ¼ãƒ¼ãƒ¼
import React, { useState } from 'react';
import { Code, Map, MousePointer, Layout, Lightbulb } from 'lucide-react';

const SeleniumPatternComparison = () => {
  const [activePattern, setActivePattern] = useState(0);

  const patterns = [
    {
      title: 'ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼æ§‹é€ ',
      html: `<nav id="main-menu">
  <ul class="menu-list">
    <li class="menu-item">
      <a href="/home">ãƒ›ãƒ¼ãƒ </a>
    </li>
    <li class="menu-item dropdown">
      <a href="/products">è£½å“</a>
      <ul class="submenu">
        <li><a href="/electronics">é›»å­æ©Ÿå™¨</a></li>
        <li><a href="/furniture">å®¶å…·</a></li>
      </ul>
    </li>
  </ul>
</nav>`,
      target: 'ã€Œé›»å­æ©Ÿå™¨ã€ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯',
      xpath: '//nav[@id="main-menu"]//ul[@class="submenu"]/li[1]/a',
      css: '#main-menu .submenu li:first-child a',
      coordinates: `menu = driver.find_element(By.ID, "main-menu")
submenu = menu.find_element(By.CLASS_NAME, "submenu")
location = submenu.location
size = submenu.size

# ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…ã®æœ€åˆã®ãƒªãƒ³ã‚¯ã®ä½ç½®ã‚’è¨ˆç®—
target_x = location['x'] + 20
target_y = location['y'] + 15

actions = ActionChains(driver)
actions.move_by_offset(target_x, target_y).click().perform()`,
      coordMethod: 'relative',
      visual: {
        type: 'nested-menu',
        highlight: 'submenu-first'
      }
    },
    {
      title: 'ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç‰¹å®šã‚»ãƒ«',
      html: `<table id="data-table" class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>åå‰</th>
      <th>ä¾¡æ ¼</th>
      <th>åœ¨åº«</th>
    </tr>
  </thead>
  <tbody>
    <tr class="row" data-id="101">
      <td>101</td>
      <td>ãƒãƒ¼ãƒˆPC</td>
      <td class="price">98,000å††</td>
      <td class="stock">5</td>
    </tr>
    <tr class="row" data-id="102">
      <td>102</td>
      <td>ãƒã‚¦ã‚¹</td>
      <td class="price">2,500å††</td>
      <td class="stock">20</td>
    </tr>
  </tbody>
</table>`,
      target: 'ID:102 ã®ä¾¡æ ¼ã‚»ãƒ«ã‚’å–å¾—',
      xpath: '//table[@id="data-table"]//tr[@data-id="102"]/td[@class="price"]',
      css: '#data-table tr[data-id="102"] td.price',
      coordinates: `table = driver.find_element(By.ID, "data-table")
rows = table.find_elements(By.CSS_SELECTOR, "tbody tr")

# 2è¡Œç›®ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹1ï¼‰ã®3åˆ—ç›®ï¼ˆä¾¡æ ¼ï¼‰
target_row = rows[1]
cells = target_row.find_elements(By.TAG_NAME, "td")
price_cell = cells[2]

# ã‚»ãƒ«ã®åº§æ¨™ã‚’å–å¾—
location = price_cell.location
center_x = location['x'] + price_cell.size['width'] / 2
center_y = location['y'] + price_cell.size['height'] / 2`,
      coordMethod: 'cell-position',
      visual: {
        type: 'table',
        highlight: 'row2-col3'
      }
    },
    {
      title: 'ãƒ•ã‚©ãƒ¼ãƒ å†…ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰',
      html: `<div id="login-form" class="form-container">
  <div class="form-group">
    <label for="username">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
    <input type="text" 
           id="username" 
           name="user" 
           class="form-control"
           placeholder="åå‰ã‚’å…¥åŠ›"/>
  </div>
  <div class="form-group">
    <label for="password">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
    <input type="password" 
           id="password" 
           name="pass" 
           class="form-control"
           placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"/>
  </div>
  <button type="submit" class="btn-primary">
    ãƒ­ã‚°ã‚¤ãƒ³
  </button>
</div>`,
      target: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ã«å…¥åŠ›',
      xpath: '//div[@id="login-form"]//input[@type="password"]',
      css: '#login-form input[type="password"]',
      coordinates: `form = driver.find_element(By.ID, "login-form")
form_groups = form.find_elements(By.CLASS_NAME, "form-group")

# 2ç•ªç›®ã®form-groupï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰
password_group = form_groups[1]
input_field = password_group.find_element(By.TAG_NAME, "input")

# å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ä¸­å¤®ã‚’ã‚¯ãƒªãƒƒã‚¯
actions = ActionChains(driver)
actions.move_to_element(input_field).click().perform()
input_field.send_keys("password123")`,
      coordMethod: 'form-field',
      visual: {
        type: 'form',
        highlight: 'password-field'
      }
    },
    {
      title: 'ã‚«ãƒ¼ãƒ‰å‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ',
      html: `<div class="container">
  <div class="card" data-product-id="A001">
    <img src="product1.jpg" class="card-img"/>
    <div class="card-body">
      <h3 class="card-title">å•†å“A</h3>
      <p class="card-price">5,000å††</p>
      <button class="btn-cart">ã‚«ãƒ¼ãƒˆã«è¿½åŠ </button>
    </div>
  </div>
  <div class="card" data-product-id="A002">
    <img src="product2.jpg" class="card-img"/>
    <div class="card-body">
      <h3 class="card-title">å•†å“B</h3>
      <p class="card-price">8,000å††</p>
      <button class="btn-cart">ã‚«ãƒ¼ãƒˆã«è¿½åŠ </button>
    </div>
  </div>
</div>`,
      target: 'å•†å“Bã®ã‚«ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯',
      xpath: '//div[@class="card" and @data-product-id="A002"]//button[@class="btn-cart"]',
      css: '.card[data-product-id="A002"] .btn-cart',
      coordinates: `cards = driver.find_elements(By.CLASS_NAME, "card")

# 2ç•ªç›®ã®ã‚«ãƒ¼ãƒ‰ï¼ˆå•†å“Bï¼‰
card_b = cards[1]
button = card_b.find_element(By.CLASS_NAME, "btn-cart")

# ãƒœã‚¿ãƒ³ã®ä½ç½®ã‚’å–å¾—
btn_location = button.location
btn_size = button.size

# ãƒœã‚¿ãƒ³ä¸­å¤®ã®åº§æ¨™
click_x = btn_location['x'] + btn_size['width'] / 2
click_y = btn_location['y'] + btn_size['height'] / 2

actions = ActionChains(driver)
actions.move_by_offset(click_x, click_y).click().perform()`,
      coordMethod: 'card-layout',
      visual: {
        type: 'cards',
        highlight: 'card2-button'
      }
    },
    {
      title: 'ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°',
      html: `<div class="overlay" style="display:block">
  <div class="modal" id="confirm-modal">
    <div class="modal-header">
      <h2>ç¢ºèª</h2>
      <button class="close-btn">Ã—</button>
    </div>
    <div class="modal-body">
      <p>æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ</p>
    </div>
    <div class="modal-footer">
      <button class="btn btn-cancel">
        ã‚­ãƒ£ãƒ³ã‚»ãƒ«
      </button>
      <button class="btn btn-confirm">
        å‰Šé™¤ã™ã‚‹
      </button>
    </div>
  </div>
</div>`,
      target: 'å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯',
      xpath: '//div[@id="confirm-modal"]//div[@class="modal-footer"]/button[@class="btn btn-confirm"]',
      css: '#confirm-modal .modal-footer .btn-confirm',
      coordinates: `# ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…æ©Ÿ
modal = WebDriverWait(driver, 10).until(
    EC.visibility_of_element_located(
        (By.ID, "confirm-modal")
    )
)

# ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã®ãƒœã‚¿ãƒ³ã‚’ç›¸å¯¾ä½ç½®ã§å–å¾—
footer = modal.find_element(By.CLASS_NAME, "modal-footer")
buttons = footer.find_elements(By.CLASS_NAME, "btn")

# 2ç•ªç›®ã®ãƒœã‚¿ãƒ³ï¼ˆå‰Šé™¤ã™ã‚‹ï¼‰
confirm_btn = buttons[1]

# åº§æ¨™è¨ˆç®—
modal_loc = modal.location
btn_loc = confirm_btn.location

# ãƒ¢ãƒ¼ãƒ€ãƒ«åŸºæº–ã®ç›¸å¯¾åº§æ¨™
relative_x = btn_loc['x'] - modal_loc['x']
relative_y = btn_loc['y'] - modal_loc['y']`,
      coordMethod: 'modal-position',
      visual: {
        type: 'modal',
        highlight: 'confirm-button'
      }
    },
    {
      title: 'å‹•çš„ãƒªã‚¹ãƒˆï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰',
      html: `<div id="infinite-scroll" class="scroll-container">
  <div class="item" data-index="1">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  1</span>
    <button class="item-action">è©³ç´°</button>
  </div>
  <div class="item" data-index="2">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  2</span>
    <button class="item-action">è©³ç´°</button>
  </div>
  <!-- å‹•çš„ã«è¿½åŠ ã•ã‚Œã‚‹ã‚¢ã‚¤ãƒ†ãƒ  -->
  <div class="item" data-index="50">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  50</span>
    <button class="item-action">è©³ç´°</button>
  </div>
</div>`,
      target: '50ç•ªç›®ã®ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³',
      xpath: '//div[@id="infinite-scroll"]//div[@data-index="50"]/button[@class="item-action"]',
      css: '#infinite-scroll .item[data-index="50"] .item-action',
      coordinates: `container = driver.find_element(By.ID, "infinite-scroll")

# ç‰¹å®šã®ã‚¢ã‚¤ãƒ†ãƒ ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
target_item = driver.find_element(
    By.CSS_SELECTOR, 
    '.item[data-index="50"]'
)

# è¦ç´ ãŒè¦‹ãˆã‚‹ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
driver.execute_script(
    "arguments[0].scrollIntoView({block: 'center'});",
    target_item
)
time.sleep(0.5)

# ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³ã‚’å–å¾—
button = target_item.find_element(
    By.CLASS_NAME, 
    "item-action"
)

# ãƒœã‚¿ãƒ³ã®ç”»é¢ä¸Šã®åº§æ¨™
location = button.location
viewport_offset = driver.execute_script(
    "return arguments[0].getBoundingClientRect();",
    button
)

# å®Ÿéš›ã®è¡¨ç¤ºä½ç½®
visible_x = viewport_offset['x']
visible_y = viewport_offset['y']`,
      coordMethod: 'scroll-to-element',
      visual: {
        type: 'infinite-scroll',
        highlight: 'item-50'
      }
    }
  ];

  const VisualDemo = ({ visual }) => {
    const { type, highlight } = visual;

    if (type === 'nested-menu') {
      return (
        <div className="bg-gray-100 p-4 rounded-lg border-2 border-gray-300 min-h-64">
          <div className="bg-blue-600 text-white p-3 rounded-t-lg font-bold">
            ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
          </div>
          <div className="bg-white p-4 rounded-b-lg">
            <div className="space-y-2">
              <div className="p-2 hover:bg-gray-100 rounded">ğŸ  ãƒ›ãƒ¼ãƒ </div>
              <div className="p-2 bg-blue-50 rounded">
                <div className="font-bold">ğŸ“¦ è£½å“ â–¼</div>
                <div className="ml-6 mt-2 space-y-1">
                  <div className={`p-2 rounded ${highlight === 'submenu-first' ? 'bg-yellow-300 border-2 border-yellow-600' : 'bg-gray-50'}`}>
                    ğŸ’» é›»å­æ©Ÿå™¨ â† ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ
                  </div>
                  <div className="p-2 bg-gray-50 rounded">ğŸª‘ å®¶å…·</div>
                </div>
              </div>
            </div>
          </div>
          <div className="mt-4 text-sm text-gray-600 bg-yellow-50 p-2 rounded border-l-4 border-yellow-400">
            éšå±¤: nav â†’ ul.menu-list â†’ li.dropdown â†’ ul.submenu â†’ li[1] â†’ a
          </div>
        </div>
      );
    }

    if (type === 'table') {
      return (
        <div className="bg-white rounded-lg border-2 border-gray-300 overflow-hidden">
          <table className="w-full text-sm">
            <thead className="bg-blue-600 text-white">
              <tr>
                <th className="p-2 border">ID</th>
                <th className="p-2 border">åå‰</th>
                <th className="p-2 border">ä¾¡æ ¼</th>
                <th className="p-2 border">åœ¨åº«</th>
              </tr>
            </thead>
            <tbody>
              <tr className="bg-gray-50">
                <td className="p-2 border text-center">101</td>
                <td className="p-2 border">ãƒãƒ¼ãƒˆPC</td>
                <td className="p-2 border text-right">98,000å††</td>
                <td className="p-2 border text-center">5</td>
              </tr>
              <tr className="bg-white">
                <td className="p-2 border text-center">102</td>
                <td className="p-2 border">ãƒã‚¦ã‚¹</td>
                <td className={`p-2 border text-right ${highlight === 'row2-col3' ? 'bg-yellow-300 border-2 border-yellow-600 font-bold' : ''}`}>
                  2,500å†† {highlight === 'row2-col3' && 'â† ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ'}
                </td>
                <td className="p-2 border text-center">20</td>
              </tr>
            </tbody>
          </table>
          <div className="p-2 text-sm text-gray-600 bg-yellow-50 border-t-2 border-yellow-400">
            éšå±¤: table#data-table â†’ tbody â†’ tr[data-id="102"] â†’ td.price
          </div>
        </div>
      );
    }

    if (type === 'form') {
      return (
        <div className="bg-white p-6 rounded-lg border-2 border-gray-300 max-w-md mx-auto">
          <div className="space-y-4">
            <div>
              <label className="block text-sm font-bold mb-1">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
              <input 
                type="text" 
                className="w-full p-2 border-2 border-gray-300 rounded" 
                placeholder="åå‰ã‚’å…¥åŠ›"
                readOnly
              />
            </div>
            <div>
              <label className="block text-sm font-bold mb-1">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
              <input 
                type="password" 
                className={`w-full p-2 border-2 rounded ${highlight === 'password-field' ? 'border-yellow-600 bg-yellow-100' : 'border-gray-300'}`}
                placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"
                readOnly
              />
              {highlight === 'password-field' && (
                <div className="text-xs text-yellow-700 mt-1">â† ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ</div>
              )}
            </div>
            <button className="w-full bg-blue-600 text-white p-2 rounded font-bold">
              ãƒ­ã‚°ã‚¤ãƒ³
            </button>
          </div>
          <div className="mt-4 text-sm text-gray-600 bg-yellow-50 p-2 rounded border-l-4 border-yellow-400">
            éšå±¤: div#login-form â†’ div.form-group[2] â†’ input[type="password"]
          </div>
        </div>
      );
    }

    if (type === 'cards') {
      return (
        <div className="grid grid-cols-2 gap-4 p-4 bg-gray-100 rounded-lg border-2 border-gray-300">
          <div className="bg-white rounded-lg shadow p-3">
            <div className="bg-gray-200 h-24 rounded mb-2 flex items-center justify-center">
              ğŸ–¼ï¸ å•†å“A
            </div>
            <h3 className="font-bold">å•†å“A</h3>
            <p className="text-sm text-gray-600">5,000å††</p>
            <button className="w-full bg-blue-500 text-white p-2 rounded mt-2 text-sm">
              ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
            </button>
          </div>
          <div className="bg-white rounded-lg shadow p-3 border-2 border-yellow-600">
            <div className="bg-gray-200 h-24 rounded mb-2 flex items-center justify-center">
              ğŸ–¼ï¸ å•†å“B
            </div>
            <h3 className="font-bold">å•†å“B</h3>
            <p className="text-sm text-gray-600">8,000å††</p>
            <button className={`w-full p-2 rounded mt-2 text-sm ${highlight === 'card2-button' ? 'bg-yellow-300 text-gray-900 border-2 border-yellow-600 font-bold' : 'bg-blue-500 text-white'}`}>
              ã‚«ãƒ¼ãƒˆã«è¿½åŠ  {highlight === 'card2-button' && 'â†'}
            </button>
          </div>
          <div className="col-span-2 text-sm text-gray-600 bg-yellow-50 p-2 rounded border-l-4 border-yellow-400">
            éšå±¤: div.card[data-product-id="A002"] â†’ div.card-body â†’ button.btn-cart
          </div>
        </div>
      );
    }

    if (type === 'modal') {
      return (
        <div className="relative bg-gray-900 bg-opacity-50 p-8 rounded-lg min-h-64 flex items-center justify-center">
          <div className="bg-white rounded-lg shadow-2xl w-80 border-2 border-blue-600">
            <div className="bg-blue-600 text-white p-3 rounded-t-lg flex justify-between items-center">
              <h3 className="font-bold">ç¢ºèª</h3>
              <button className="text-2xl">Ã—</button>
            </div>
            <div className="p-4">
              <p>æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ</p>
            </div>
            <div className="p-3 bg-gray-50 rounded-b-lg flex gap-2 justify-end">
              <button className="px-4 py-2 bg-gray-300 rounded">
                ã‚­ãƒ£ãƒ³ã‚»ãƒ«
              </button>
              <button className={`px-4 py-2 rounded ${highlight === 'confirm-button' ? 'bg-yellow-300 text-gray-900 border-2 border-yellow-600 font-bold' : 'bg-red-600 text-white'}`}>
                å‰Šé™¤ã™ã‚‹ {highlight === 'confirm-button' && 'â†'}
              </button>
            </div>
          </div>
          <div className="absolute bottom-2 left-2 right-2 text-sm text-white bg-black bg-opacity-70 p-2 rounded">
            éšå±¤: div#confirm-modal â†’ div.modal-footer â†’ button.btn-confirm
          </div>
        </div>
      );
    }

    if (type === 'infinite-scroll') {
      return (
        <div className="bg-white rounded-lg border-2 border-gray-300 h-64 overflow-y-auto">
          <div className="p-2 space-y-1">
            <div className="flex justify-between items-center p-2 bg-gray-50 rounded">
              <span>ã‚¢ã‚¤ãƒ†ãƒ  1</span>
              <button className="px-3 py-1 bg-blue-500 text-white rounded text-sm">è©³ç´°</button>
            </div>
            <div className="flex justify-between items-center p-2 bg-gray-50 rounded">
              <span>ã‚¢ã‚¤ãƒ†ãƒ  2</span>
              <button className="px-3 py-1 bg-blue-500 text-white rounded text-sm">è©³ç´°</button>
            </div>
            <div className="text-center text-gray-400 py-2">...</div>
            <div className={`flex justify-between items-center p-2 rounded ${highlight === 'item-50' ? 'bg-yellow-300 border-2 border-yellow-600' : 'bg-gray-50'}`}>
              <span className="font-bold">ã‚¢ã‚¤ãƒ†ãƒ  50</span>
              <button className="px-3 py-1 bg-blue-500 text-white rounded text-sm font-bold">
                è©³ç´° {highlight === 'item-50' && 'â†'}
              </button>
            </div>
          </div>
          <div className="sticky bottom-0 text-sm text-gray-600 bg-yellow-50 p-2 border-t-2 border-yellow-400">
            éšå±¤: div#infinite-scroll â†’ div.item[data-index="50"] â†’ button.item-action
          </div>
        </div>
      );
    }

    return null;
  };

  const current = patterns[activePattern];

  return (
    <div className="w-full max-w-7xl mx-auto p-6 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 min-h-screen">
      <div className="mb-8">
        <h1 className="text-4xl font-bold text-gray-800 mb-2 flex items-center gap-3">
          <Layout className="text-indigo-600" size={40} />
          Selenium è¦ç´ æŒ‡å®šãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨æ¯”è¼ƒ
        </h1>
        <p className="text-gray-600 text-lg">
          HTMLéšå±¤ Ã— XPath Ã— CSSã‚»ãƒ¬ã‚¯ã‚¿ Ã— åº§æ¨™æŒ‡å®šã®4ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å›³è§£
        </p>
      </div>

      <div className="grid grid-cols-2 md:grid-cols-3 gap-3 mb-6">
        {patterns.map((pattern, index) => (
          <button
            key={index}
            onClick={() => setActivePattern(index)}
            className={`p-4 rounded-lg border-2 transition-all text-left ${
              activePattern === index
                ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-indigo-700 shadow-lg'
                : 'bg-white text-gray-700 border-gray-300 hover:border-indigo-400'
            }`}
          >
            <div className="font-bold text-sm">{pattern.title}</div>
            <div className={`text-xs mt-1 ${activePattern === index ? 'text-indigo-100' : 'text-gray-500'}`}>
              {pattern.target}
            </div>
          </button>
        ))}
      </div>

      <div className="space-y-6">
        <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-indigo-200">
          <div className="flex items-center gap-2 mb-4">
            <Map className="text-indigo-600" size={24} />
            <h2 className="text-2xl font-bold text-gray-800">ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«å›³è§£</h2>
          </div>
          <VisualDemo visual={current.visual} />
        </div>

        <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-purple-200">
          <div className="flex items-center gap-2 mb-4">
            <Code className="text-purple-600" size={24} />
            <h2 className="text-2xl font-bold text-gray-800">HTMLæ§‹é€ </h2>
          </div>
          <pre className="bg-gray-900 text-green-300 p-4 rounded-lg text-sm overflow-x-auto font-mono">
            <code>{current.html}</code>
          </pre>
          <div className="mt-3 p-3 bg-purple-50 rounded-lg border-l-4 border-purple-500">
            <strong className="text-purple-800">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ:</strong>
            <span className="text-gray-700 ml-2">{current.target}</span>
          </div>
        </div>

        <div className="grid md:grid-cols-2 gap-6">
          <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-orange-200">
            <div className="flex items-center gap-2 mb-4">
              <div className="bg-orange-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">
                1
              </div>
              <h3 className="text-xl font-bold text-gray-800">XPathæŒ‡å®š</h3>
            </div>
            <pre className="bg-orange-900 text-orange-100 p-4 rounded-lg text-sm overflow-x-auto font-mono">
              <code>{current.xpath}</code>
            </pre>
            <div className="mt-3 p-3 bg-orange-50 rounded text-sm">
              <strong className="text-orange-700">ç‰¹å¾´:</strong>
              <ul className="mt-1 space-y-1 text-gray-700">
                <li>â€¢ è¤‡é›‘ãªéšå±¤ã‚‚æŸ”è»Ÿã«æŒ‡å®šå¯èƒ½</li>
                <li>â€¢ ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ãŒå¯èƒ½</li>
                <li>â€¢ è¦ªè¦ç´ ã¸ã®å‚ç…§ãŒå¯èƒ½</li>
              </ul>
            </div>
          </div>

          <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-blue-200">
            <div className="flex items-center gap-2 mb-4">
              <div className="bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">
                2


ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
import React, { useState } from 'react';
import { Code, Map, MousePointer, Layout, Lightbulb } from 'lucide-react';

const SeleniumPatternComparison = () => {
  const [activePattern, setActivePattern] = useState(0);

  const patterns = [
    {
      title: 'ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼æ§‹é€ ',
      html: `<nav id="main-menu">
  <ul class="menu-list">
    <li class="menu-item">
      <a href="/home">ãƒ›ãƒ¼ãƒ </a>
    </li>
    <li class="menu-item dropdown">
      <a href="/products">è£½å“</a>
      <ul class="submenu">
        <li><a href="/electronics">é›»å­æ©Ÿå™¨</a></li>
        <li><a href="/furniture">å®¶å…·</a></li>
      </ul>
    </li>
  </ul>
</nav>`,
      target: 'ã€Œé›»å­æ©Ÿå™¨ã€ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯',
      xpath: '//nav[@id="main-menu"]//ul[@class="submenu"]/li[1]/a',
      css: '#main-menu .submenu li:first-child a',
      coordinates: `menu = driver.find_element(By.ID, "main-menu")
submenu = menu.find_element(By.CLASS_NAME, "submenu")
location = submenu.location
size = submenu.size

# ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…ã®æœ€åˆã®ãƒªãƒ³ã‚¯ã®ä½ç½®ã‚’è¨ˆç®—
target_x = location['x'] + 20
target_y = location['y'] + 15

actions = ActionChains(driver)
actions.move_by_offset(target_x, target_y).click().perform()`,
      coordMethod: 'relative',
      visual: {
        type: 'nested-menu',
        highlight: 'submenu-first'
      }
    },
    {
      title: 'ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç‰¹å®šã‚»ãƒ«',
      html: `<table id="data-table" class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>åå‰</th>
      <th>ä¾¡æ ¼</th>
      <th>åœ¨åº«</th>
    </tr>
  </thead>
  <tbody>
    <tr class="row" data-id="101">
      <td>101</td>
      <td>ãƒãƒ¼ãƒˆPC</td>
      <td class="price">98,000å††</td>
      <td class="stock">5</td>
    </tr>
    <tr class="row" data-id="102">
      <td>102</td>
      <td>ãƒã‚¦ã‚¹</td>
      <td class="price">2,500å††</td>
      <td class="stock">20</td>
    </tr>
  </tbody>
</table>`,
      target: 'ID:102 ã®ä¾¡æ ¼ã‚»ãƒ«ã‚’å–å¾—',
      xpath: '//table[@id="data-table"]//tr[@data-id="102"]/td[@class="price"]',
      css: '#data-table tr[data-id="102"] td.price',
      coordinates: `table = driver.find_element(By.ID, "data-table")
rows = table.find_elements(By.CSS_SELECTOR, "tbody tr")

# 2è¡Œç›®ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹1ï¼‰ã®3åˆ—ç›®ï¼ˆä¾¡æ ¼ï¼‰
target_row = rows[1]
cells = target_row.find_elements(By.TAG_NAME, "td")
price_cell = cells[2]

# ã‚»ãƒ«ã®åº§æ¨™ã‚’å–å¾—
location = price_cell.location
center_x = location['x'] + price_cell.size['width'] / 2
center_y = location['y'] + price_cell.size['height'] / 2`,
      coordMethod: 'cell-position',
      visual: {
        type: 'table',
        highlight: 'row2-col3'
      }
    },
    {
      title: 'ãƒ•ã‚©ãƒ¼ãƒ å†…ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰',
      html: `<div id="login-form" class="form-container">
  <div class="form-group">
    <label for="username">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
    <input type="text" 
           id="username" 
           name="user" 
           class="form-control"
           placeholder="åå‰ã‚’å…¥åŠ›"/>
  </div>
  <div class="form-group">
    <label for="password">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
    <input type="password" 
           id="password" 
           name="pass" 
           class="form-control"
           placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"/>
  </div>
  <button type="submit" class="btn-primary">
    ãƒ­ã‚°ã‚¤ãƒ³
  </button>
</div>`,
      target: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ã«å…¥åŠ›',
      xpath: '//div[@id="login-form"]//input[@type="password"]',
      css: '#login-form input[type="password"]',
      coordinates: `form = driver.find_element(By.ID, "login-form")
form_groups = form.find_elements(By.CLASS_NAME, "form-group")

# 2ç•ªç›®ã®form-groupï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰
password_group = form_groups[1]
input_field = password_group.find_element(By.TAG_NAME, "input")

# å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ä¸­å¤®ã‚’ã‚¯ãƒªãƒƒã‚¯
actions = ActionChains(driver)
actions.move_to_element(input_field).click().perform()
input_field.send_keys("password123")`,
      coordMethod: 'form-field',
      visual: {
        type: 'form',
        highlight: 'password-field'
      }
    },
    {
      title: 'ã‚«ãƒ¼ãƒ‰å‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ',
      html: `<div class="container">
  <div class="card" data-product-id="A001">
    <img src="product1.jpg" class="card-img"/>
    <div class="card-body">
      <h3 class="card-title">å•†å“A</h3>
      <p class="card-price">5,000å††</p>
      <button class="btn-cart">ã‚«ãƒ¼ãƒˆã«è¿½åŠ </button>
    </div>
  </div>
  <div class="card" data-product-id="A002">
    <img src="product2.jpg" class="card-img"/>
    <div class="card-body">
      <h3 class="card-title">å•†å“B</h3>
      <p class="card-price">8,000å††</p>
      <button class="btn-cart">ã‚«ãƒ¼ãƒˆã«è¿½åŠ </button>
    </div>
  </div>
</div>`,
      target: 'å•†å“Bã®ã‚«ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯',
      xpath: '//div[@class="card" and @data-product-id="A002"]//button[@class="btn-cart"]',
      css: '.card[data-product-id="A002"] .btn-cart',
      coordinates: `cards = driver.find_elements(By.CLASS_NAME, "card")

# 2ç•ªç›®ã®ã‚«ãƒ¼ãƒ‰ï¼ˆå•†å“Bï¼‰
card_b = cards[1]
button = card_b.find_element(By.CLASS_NAME, "btn-cart")

# ãƒœã‚¿ãƒ³ã®ä½ç½®ã‚’å–å¾—
btn_location = button.location
btn_size = button.size

# ãƒœã‚¿ãƒ³ä¸­å¤®ã®åº§æ¨™
click_x = btn_location['x'] + btn_size['width'] / 2
click_y = btn_location['y'] + btn_size['height'] / 2

actions = ActionChains(driver)
actions.move_by_offset(click_x, click_y).click().perform()`,
      coordMethod: 'card-layout',
      visual: {
        type: 'cards',
        highlight: 'card2-button'
      }
    },
    {
      title: 'ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°',
      html: `<div class="overlay" style="display:block">
  <div class="modal" id="confirm-modal">
    <div class="modal-header">
      <h2>ç¢ºèª</h2>
      <button class="close-btn">Ã—</button>
    </div>
    <div class="modal-body">
      <p>æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ</p>
    </div>
    <div class="modal-footer">
      <button class="btn btn-cancel">
        ã‚­ãƒ£ãƒ³ã‚»ãƒ«
      </button>
      <button class="btn btn-confirm">
        å‰Šé™¤ã™ã‚‹
      </button>
    </div>
  </div>
</div>`,
      target: 'å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯',
      xpath: '//div[@id="confirm-modal"]//div[@class="modal-footer"]/button[@class="btn btn-confirm"]',
      css: '#confirm-modal .modal-footer .btn-confirm',
      coordinates: `# ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…æ©Ÿ
modal = WebDriverWait(driver, 10).until(
    EC.visibility_of_element_located(
        (By.ID, "confirm-modal")
    )
)

# ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã®ãƒœã‚¿ãƒ³ã‚’ç›¸å¯¾ä½ç½®ã§å–å¾—
footer = modal.find_element(By.CLASS_NAME, "modal-footer")
buttons = footer.find_elements(By.CLASS_NAME, "btn")

# 2ç•ªç›®ã®ãƒœã‚¿ãƒ³ï¼ˆå‰Šé™¤ã™ã‚‹ï¼‰
confirm_btn = buttons[1]

# åº§æ¨™è¨ˆç®—
modal_loc = modal.location
btn_loc = confirm_btn.location

# ãƒ¢ãƒ¼ãƒ€ãƒ«åŸºæº–ã®ç›¸å¯¾åº§æ¨™
relative_x = btn_loc['x'] - modal_loc['x']
relative_y = btn_loc['y'] - modal_loc['y']`,
      coordMethod: 'modal-position',
      visual: {
        type: 'modal',
        highlight: 'confirm-button'
      }
    },
    {
      title: 'å‹•çš„ãƒªã‚¹ãƒˆï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰',
      html: `<div id="infinite-scroll" class="scroll-container">
  <div class="item" data-index="1">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  1</span>
    <button class="item-action">è©³ç´°</button>
  </div>
  <div class="item" data-index="2">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  2</span>
    <button class="item-action">è©³ç´°</button>
  </div>
  <!-- å‹•çš„ã«è¿½åŠ ã•ã‚Œã‚‹ã‚¢ã‚¤ãƒ†ãƒ  -->
  <div class="item" data-index="50">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  50</span>
    <button class="item-action">è©³ç´°</button>
  </div>
</div>`,
      target: '50ç•ªç›®ã®ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³',
      xpath: '//div[@id="infinite-scroll"]//div[@data-index="50"]/button[@class="item-action"]',
      css: '#infinite-scroll .item[data-index="50"] .item-action',
      coordinates: `container = driver.find_element(By.ID, "infinite-scroll")

# ç‰¹å®šã®ã‚¢ã‚¤ãƒ†ãƒ ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
target_item = driver.find_element(
    By.CSS_SELECTOR, 
    '.item[data-index="50"]'
)

# è¦ç´ ãŒè¦‹ãˆã‚‹ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
driver.execute_script(
    "arguments[0].scrollIntoView({block: 'center'});",
    target_item
)
time.sleep(0.5)

# ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³ã‚’å–å¾—
button = target_item.find_element(
    By.CLASS_NAME, 
    "item-action"
)

# ãƒœã‚¿ãƒ³ã®ç”»é¢ä¸Šã®åº§æ¨™
location = button.location
viewport_offset = driver.execute_script(
    "return arguments[0].getBoundingClientRect();",
    button
)

# å®Ÿéš›ã®è¡¨ç¤ºä½ç½®
visible_x = viewport_offset['x']
visible_y = viewport_offset['y']`,
      coordMethod: 'scroll-to-element',
      visual: {
        type: 'infinite-scroll',
        highlight: 'item-50'
      }
    }
  ];

  const VisualDemo = ({ visual }) => {
    const { type, highlight } = visual;

    if (type === 'nested-menu') {
      return (
        <div className="bg-gray-100 p-4 rounded-lg border-2 border-gray-300 min-h-64">
          <div className="bg-blue-600 text-white p-3 rounded-t-lg font-bold">
            ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
          </div>
          <div className="bg-white p-4 rounded-b-lg">
            <div className="space-y-2">
              <div className="p-2 hover:bg-gray-100 rounded">ğŸ  ãƒ›ãƒ¼ãƒ </div>
              <div className="p-2 bg-blue-50 rounded">
                <div className="font-bold">ğŸ“¦ è£½å“ â–¼</div>
                <div className="ml-6 mt-2 space-y-1">
                  <div className={`p-2 rounded ${highlight === 'submenu-first' ? 'bg-yellow-300 border-2 border-yellow-600' : 'bg-gray-50'}`}>
                    ğŸ’» é›»å­æ©Ÿå™¨ â† ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ
                  </div>
                  <div className="p-2 bg-gray-50 rounded">ğŸª‘ å®¶å…·</div>
                </div>
              </div>
            </div>
          </div>
          <div className="mt-4 text-sm text-gray-600 bg-yellow-50 p-2 rounded border-l-4 border-yellow-400">
            éšå±¤: nav â†’ ul.menu-list â†’ li.dropdown â†’ ul.submenu â†’ li[1] â†’ a
          </div>
        </div>
      );
    }

    if (type === 'table') {
      return (
        <div className="bg-white rounded-lg border-2 border-gray-300 overflow-hidden">
          <table className="w-full text-sm">
            <thead className="bg-blue-600 text-white">
              <tr>
                <th className="p-2 border">ID</th>
                <th className="p-2 border">åå‰</th>
                <th className="p-2 border">ä¾¡æ ¼</th>
                <th className="p-2 border">åœ¨åº«</th>
              </tr>
            </thead>
            <tbody>
              <tr className="bg-gray-50">
                <td className="p-2 border text-center">101</td>
                <td className="p-2 border">ãƒãƒ¼ãƒˆPC</td>
                <td className="p-2 border text-right">98,000å††</td>
                <td className="p-2 border text-center">5</td>
              </tr>
              <tr className="bg-white">
                <td className="p-2 border text-center">102</td>
                <td className="p-2 border">ãƒã‚¦ã‚¹</td>
                <td className={`p-2 border text-right ${highlight === 'row2-col3' ? 'bg-yellow-300 border-2 border-yellow-600 font-bold' : ''}`}>
                  2,500å†† {highlight === 'row2-col3' && 'â† ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ'}
                </td>
                <td className="p-2 border text-center">20</td>
              </tr>
            </tbody>
          </table>
          <div className="p-2 text-sm text-gray-600 bg-yellow-50 border-t-2 border-yellow-400">
            éšå±¤: table#data-table â†’ tbody â†’ tr[data-id="102"] â†’ td.price
          </div>
        </div>
      );
    }

    if (type === 'form') {
      return (
        <div className="bg-white p-6 rounded-lg border-2 border-gray-300 max-w-md mx-auto">
          <div className="space-y-4">
            <div>
              <label className="block text-sm font-bold mb-1">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
              <input 
                type="text" 
                className="w-full p-2 border-2 border-gray-300 rounded" 
                placeholder="åå‰ã‚’å…¥åŠ›"
                readOnly
              />
            </div>
            <div>
              <label className="block text-sm font-bold mb-1">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
              <input 
                type="password" 
                className={`w-full p-2 border-2 rounded ${highlight === 'password-field' ? 'border-yellow-600 bg-yellow-100' : 'border-gray-300'}`}
                placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"
                readOnly
              />
              {highlight === 'password-field' && (
                <div className="text-xs text-yellow-700 mt-1">â† ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ</div>
              )}
            </div>
            <button className="w-full bg-blue-600 text-white p-2 rounded font-bold">
              ãƒ­ã‚°ã‚¤ãƒ³
            </button>
          </div>
          <div className="mt-4 text-sm text-gray-600 bg-yellow-50 p-2 rounded border-l-4 border-yellow-400">
            éšå±¤: div#login-form â†’ div.form-group[2] â†’ input[type="password"]
          </div>
        </div>
      );
    }

    if (type === 'cards') {
      return (
        <div className="grid grid-cols-2 gap-4 p-4 bg-gray-100 rounded-lg border-2 border-gray-300">
          <div className="bg-white rounded-lg shadow p-3">
            <div className="bg-gray-200 h-24 rounded mb-2 flex items-center justify-center">
              ğŸ–¼ï¸ å•†å“A
            </div>
            <h3 className="font-bold">å•†å“A</h3>
            <p className="text-sm text-gray-600">5,000å††</p>
            <button className="w-full bg-blue-500 text-white p-2 rounded mt-2 text-sm">
              ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
            </button>
          </div>
          <div className="bg-white rounded-lg shadow p-3 border-2 border-yellow-600">
            <div className="bg-gray-200 h-24 rounded mb-2 flex items-center justify-center">
              ğŸ–¼ï¸ å•†å“B
            </div>
            <h3 className="font-bold">å•†å“B</h3>
            <p className="text-sm text-gray-600">8,000å††</p>
            <button className={`w-full p-2 rounded mt-2 text-sm ${highlight === 'card2-button' ? 'bg-yellow-300 text-gray-900 border-2 border-yellow-600 font-bold' : 'bg-blue-500 text-white'}`}>
              ã‚«ãƒ¼ãƒˆã«è¿½åŠ  {highlight === 'card2-button' && 'â†'}
            </button>
          </div>
          <div className="col-span-2 text-sm text-gray-600 bg-yellow-50 p-2 rounded border-l-4 border-yellow-400">
            éšå±¤: div.card[data-product-id="A002"] â†’ div.card-body â†’ button.btn-cart
          </div>
        </div>
      );
    }

    if (type === 'modal') {
      return (
        <div className="relative bg-gray-900 bg-opacity-50 p-8 rounded-lg min-h-64 flex items-center justify-center">
          <div className="bg-white rounded-lg shadow-2xl w-80 border-2 border-blue-600">
            <div className="bg-blue-600 text-white p-3 rounded-t-lg flex justify-between items-center">
              <h3 className="font-bold">ç¢ºèª</h3>
              <button className="text-2xl">Ã—</button>
            </div>
            <div className="p-4">
              <p>æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ</p>
            </div>
            <div className="p-3 bg-gray-50 rounded-b-lg flex gap-2 justify-end">
              <button className="px-4 py-2 bg-gray-300 rounded">
                ã‚­ãƒ£ãƒ³ã‚»ãƒ«
              </button>
              <button className={`px-4 py-2 rounded ${highlight === 'confirm-button' ? 'bg-yellow-300 text-gray-900 border-2 border-yellow-600 font-bold' : 'bg-red-600 text-white'}`}>
                å‰Šé™¤ã™ã‚‹ {highlight === 'confirm-button' && 'â†'}
              </button>
            </div>
          </div>
          <div className="absolute bottom-2 left-2 right-2 text-sm text-white bg-black bg-opacity-70 p-2 rounded">
            éšå±¤: div#confirm-modal â†’ div.modal-footer â†’ button.btn-confirm
          </div>
        </div>
      );
    }

    if (type === 'infinite-scroll') {
      return (
        <div className="bg-white rounded-lg border-2 border-gray-300 h-64 overflow-y-auto">
          <div className="p-2 space-y-1">
            <div className="flex justify-between items-center p-2 bg-gray-50 rounded">
              <span>ã‚¢ã‚¤ãƒ†ãƒ  1</span>
              <button className="px-3 py-1 bg-blue-500 text-white rounded text-sm">è©³ç´°</button>
            </div>
            <div className="flex justify-between items-center p-2 bg-gray-50 rounded">
              <span>ã‚¢ã‚¤ãƒ†ãƒ  2</span>
              <button className="px-3 py-1 bg-blue-500 text-white rounded text-sm">è©³ç´°</button>
            </div>
            <div className="text-center text-gray-400 py-2">...</div>
            <div className={`flex justify-between items-center p-2 rounded ${highlight === 'item-50' ? 'bg-yellow-300 border-2 border-yellow-600' : 'bg-gray-50'}`}>
              <span className="font-bold">ã‚¢ã‚¤ãƒ†ãƒ  50</span>
              <button className="px-3 py-1 bg-blue-500 text-white rounded text-sm font-bold">
                è©³ç´° {highlight === 'item-50' && 'â†'}
              </button>
            </div>
          </div>
          <div className="sticky bottom-0 text-sm text-gray-600 bg-yellow-50 p-2 border-t-2 border-yellow-400">
            éšå±¤: div#infinite-scroll â†’ div.item[data-index="50"] â†’ button.item-action
          </div>
        </div>
      );
    }

    return null;
  };

  const current = patterns[activePattern];

  return (
    <div className="w-full max-w-7xl mx-auto p-6 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 min-h-screen">
      <div className="mb-8">
        <h1 className="text-4xl font-bold text-gray-800 mb-2 flex items-center gap-3">
          <Layout className="text-indigo-600" size={40} />
          Selenium è¦ç´ æŒ‡å®šãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨æ¯”è¼ƒ
        </h1>
        <p className="text-gray-600 text-lg">
          HTMLéšå±¤ Ã— XPath Ã— CSSã‚»ãƒ¬ã‚¯ã‚¿ Ã— åº§æ¨™æŒ‡å®šã®4ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å›³è§£
        </p>
      </div>

      <div className="grid grid-cols-2 md:grid-cols-3 gap-3 mb-6">
        {patterns.map((pattern, index) => (
          <button
            key={index}
            onClick={() => setActivePattern(index)}
            className={`p-4 rounded-lg border-2 transition-all text-left ${
              activePattern === index
                ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-indigo-700 shadow-lg'
                : 'bg-white text-gray-700 border-gray-300 hover:border-indigo-400'
            }`}
          >
            <div className="font-bold text-sm">{pattern.title}</div>
            <div className={`text-xs mt-1 ${activePattern === index ? 'text-indigo-100' : 'text-gray-500'}`}>
              {pattern.target}
            </div>
          </button>
        ))}
      </div>

      <div className="space-y-6">
        <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-indigo-200">
          <div className="flex items-center gap-2 mb-4">
            <Map className="text-indigo-600" size={24} />
            <h2 className="text-2xl font-bold text-gray-800">ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«å›³è§£</h2>
          </div>
          <VisualDemo visual={current.visual} />
        </div>

        <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-purple-200">
          <div className="flex items-center gap-2 mb-4">
            <Code className="text-purple-600" size={24} />
            <h2 className="text-2xl font-bold text-gray-800">HTMLæ§‹é€ </h2>
          </div>
          <pre className="bg-gray-900 text-green-300 p-4 rounded-lg text-sm overflow-x-auto font-mono">
            <code>{current.html}</code>
          </pre>
          <div className="mt-3 p-3 bg-purple-50 rounded-lg border-l-4 border-purple-500">
            <strong className="text-purple-800">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ:</strong>
            <span className="text-gray-700 ml-2">{current.target}</span>
          </div>
        </div>

        <div className="grid md:grid-cols-2 gap-6">
          <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-orange-200">
            <div className="flex items-center gap-2 mb-4">
              <div className="bg-orange-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">
                1
              </div>
              <h3 className="text-xl font-bold text-gray-800">XPathæŒ‡å®š</h3>
            </div>
            <pre className="bg-orange-900 text-orange-100 p-4 rounded-lg text-sm overflow-x-auto font-mono">
              <code>{current.xpath}</code>
            </pre>
            <div className="mt-3 p-3 bg-orange-50 rounded text-sm">
              <strong className="text-orange-700">ç‰¹å¾´:</strong>
              <ul className="mt-1 space-y-1 text-gray-700">
                <li>â€¢ è¤‡é›‘ãªéšå±¤ã‚‚æŸ”è»Ÿã«æŒ‡å®šå¯èƒ½</li>
                <li>â€¢ ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ãŒå¯èƒ½</li>
                <li>â€¢ è¦ªè¦ç´ ã¸ã®å‚ç…§ãŒå¯èƒ½</li>
              </ul>
            </div>
          </div>

          <div className="bg-white rounded-xl p-6 shadow-lg border-2 border-blue-200">
            <div className="flex items-center gap-2 mb-4">
              <div className="bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">
                2

ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼

Selenium è¦ç´ æŒ‡å®šãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨æ¯”è¼ƒ
HTMLéšå±¤ Ã— XPath Ã— CSSã‚»ãƒ¬ã‚¯ã‚¿ Ã— åº§æ¨™æŒ‡å®šã®4ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å›³è§£


ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼æ§‹é€ 
ã€Œé›»å­æ©Ÿå™¨ã€ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯

ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç‰¹å®šã‚»ãƒ«
ID:102 ã®ä¾¡æ ¼ã‚»ãƒ«ã‚’å–å¾—

ãƒ•ã‚©ãƒ¼ãƒ å†…ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ã«å…¥åŠ›

ã‚«ãƒ¼ãƒ‰å‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
å•†å“Bã®ã‚«ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

å‹•çš„ãƒªã‚¹ãƒˆï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰
50ç•ªç›®ã®ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³
ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«å›³è§£
ã‚¢ã‚¤ãƒ†ãƒ  1
è©³ç´°
ã‚¢ã‚¤ãƒ†ãƒ  2
è©³ç´°
...
ã‚¢ã‚¤ãƒ†ãƒ  50
è©³ç´° â†
éšå±¤: div#infinite-scroll â†’ div.item[data-index="50"] â†’ button.item-action
HTMLæ§‹é€ 
<div id="infinite-scroll" class="scroll-container">
  <div class="item" data-index="1">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  1</span>
    <button class="item-action">è©³ç´°</button>
  </div>
  <div class="item" data-index="2">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  2</span>
    <button class="item-action">è©³ç´°</button>
  </div>
  <!-- å‹•çš„ã«è¿½åŠ ã•ã‚Œã‚‹ã‚¢ã‚¤ãƒ†ãƒ  -->
  <div class="item" data-index="50">
    <span class="item-title">ã‚¢ã‚¤ãƒ†ãƒ  50</span>
    <button class="item-action">è©³ç´°</button>
  </div>
</div>
ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ:50ç•ªç›®ã®ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³
1
XPathæŒ‡å®š
//div[@id="infinite-scroll"]//div[@data-index="50"]/button[@class="item-action"]
ç‰¹å¾´:
â€¢ è¤‡é›‘ãªéšå±¤ã‚‚æŸ”è»Ÿã«æŒ‡å®šå¯èƒ½
â€¢ ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ãŒå¯èƒ½
â€¢ è¦ªè¦ç´ ã¸ã®å‚ç…§ãŒå¯èƒ½
2
CSSã‚»ãƒ¬ã‚¯ã‚¿æŒ‡å®š
#infinite-scroll .item[data-index="50"] .item-action
ç‰¹å¾´:
â€¢ ã‚·ãƒ³ãƒ—ãƒ«ã§èª­ã¿ã‚„ã™ã„
â€¢ å®Ÿè¡Œé€Ÿåº¦ãŒé€Ÿã„
â€¢ Webãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã«é¦´æŸ“ã¿ã‚„ã™ã„
åº§æ¨™æŒ‡å®š
æ–¹æ³•:scroll-to-element
container = driver.find_element(By.ID, "infinite-scroll")

# ç‰¹å®šã®ã‚¢ã‚¤ãƒ†ãƒ ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
target_item = driver.find_element(
    By.CSS_SELECTOR, 
    '.item[data-index="50"]'
)

# è¦ç´ ãŒè¦‹ãˆã‚‹ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
driver.execute_script(
    "arguments[0].scrollIntoView({block: 'center'});",
    target_item
)
time.sleep(0.5)

# ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°ãƒœã‚¿ãƒ³ã‚’å–å¾—
button = target_item.find_element(
    By.CLASS_NAME, 
    "item-action"
)

# ãƒœã‚¿ãƒ³ã®ç”»é¢ä¸Šã®åº§æ¨™
location = button.location
viewport_offset = driver.execute_script(
    "return arguments[0].getBoundingClientRect();",
    button
)

# å®Ÿéš›ã®è¡¨ç¤ºä½ç½®
visible_x = viewport_offset['x']
visible_y = viewport_offset['y']
ç‰¹å¾´:
â€¢ DOMæ§‹é€ ã«ä¾å­˜ã—ãªã„
â€¢ ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚„ç”»åƒã®æ“ä½œã«æœ‰åŠ¹
â€¢ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ã«æ³¨æ„ãŒå¿…è¦
ä½¿ã„åˆ†ã‘ã®ãƒã‚¤ãƒ³ãƒˆ
XPathã‚’ä½¿ã†å ´åˆ
ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ã€è¦ªè¦ç´ å‚ç…§ã€è¤‡é›‘ãªæ¡ä»¶ãŒå¿…è¦ãªæ™‚

CSSã‚»ãƒ¬ã‚¯ã‚¿ã‚’ä½¿ã†å ´åˆ
ã‚·ãƒ³ãƒ—ãƒ«ãªéšå±¤æ§‹é€ ã§é«˜é€Ÿã«è¦ç´ ã‚’å–å¾—ã—ãŸã„æ™‚

åº§æ¨™æŒ‡å®šã‚’ä½¿ã†å ´åˆ
ã‚­ãƒ£ãƒ³ãƒã‚¹æ“ä½œã€ç”»åƒã®ç‰¹å®šä½ç½®ã‚¯ãƒªãƒƒã‚¯ãªã©

æ¨å¥¨ã•ã‚Œã‚‹é †åº
CSS â†’ XPath â†’ åº§æ¨™ï¼ˆæœ€çµ‚æ‰‹æ®µï¼‰ã®é †ã§æ¤œè¨
